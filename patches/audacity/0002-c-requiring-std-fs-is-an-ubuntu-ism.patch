From dc6e38a7439be0a2875d042b8c27a12d5f35b79e Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Hubert=20Figui=C3=A8re?= <hub@figuiere.net>
Date: Fri, 19 Sep 2025 10:17:29 -0400
Subject: [PATCH 2/5] c++: requiring std++fs is an ubuntu-ism
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Signed-off-by: Hubert Figui√®re <hub@figuiere.net>
---
 CMakeLists.txt                      | 1 -
 libraries/lib-vst3/module_linux.cpp | 2 +-
 2 files changed, 1 insertion(+), 2 deletions(-)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index cb1588291..5d26375d6 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -472,7 +472,6 @@ if( ${_OPT}has_vst3 AND CMAKE_CXX_COMPILER_ID MATCHES "GNU" )
    #VST3 module_linux.cpp uses c++ fs features
    #Once compiler minimum version is upgraded to 9.1+
    #we don't need this option any more
-   list( APPEND CMAKE_REQUIRED_LIBRARIES -lstdc++fs )
 endif()
 
 # Add the math library (if found) to the list of required libraries
diff --git a/libraries/lib-vst3/module_linux.cpp b/libraries/lib-vst3/module_linux.cpp
index 80e2c30d6..e7f8c2051 100644
--- a/libraries/lib-vst3/module_linux.cpp
+++ b/libraries/lib-vst3/module_linux.cpp
@@ -43,7 +43,7 @@
 #include <sys/utsname.h>
 #include <unistd.h>
 
-#if (__cplusplus >= 201707L)
+#if (__cplusplus >= 201703L)
 #if __has_include(<filesystem>)
 #define USE_EXPERIMENTAL_FS 0
 #elif __has_include(<experimental/filesystem>)
-- 
2.50.1

